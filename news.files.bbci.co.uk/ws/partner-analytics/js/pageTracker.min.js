!function(s){var r=s._ns_bbcws=s._ns_bbcws||"s_bbcws";if(!s[r]||!s[r]._trackEvents){var t=s[r]&&s[r].sources?s[r].sources:[],n=s[r]&&s[r]._baseUrl?s[r]._baseUrl:"https://news.files.bbci.co.uk/ws/partner-analytics";s[r]=function(){var t=s[r]._getFunction(arguments[0]);if(t)return Array.prototype.shift.apply(arguments),t.apply(s[r],arguments);s[r]._data.push(arguments)},s[r]._version="5.7.0",s[r].sources=t,s[r]._baseUrl=n,s[r]._getVersion=function(){var t="synd_v"+s[r]._version;return undefined!==s[r]._data.find("syndSource")&&(t+="_"+s[r]._data.find("syndSource")),t},s[r]._getFunction=function(t){if("function"==typeof this[t])return this[t];var e="set"+t.charAt(0).toUpperCase()+t.slice(1);return"function"==typeof this[e]?this[e]:void 0},s[r].track=function(){var t=Array.prototype.shift.call(arguments);if(!this._trackEvents[t])throw"Specified tracking event not registered.";for(var e=0;e<this._trackEvents[t].length;e++)this._trackEvents[t][e].apply(this,arguments),this._trackLog.push(t)},s[r]._trackEvents={},s[r]._trackLog=[],s[r]._hasTrackEvent=function(t,e){var n=this._trackEvents[t]||{}||[];if("function"!=typeof e)return 0<n.length;for(var i=0;i<n.length;i++)if(n[i].name==e.name)return!0;return!1},s[r]._registerTrackEvent=function(t,e){if(this._trackEvents[t]=this._trackEvents[t]||[],this._hasTrackEvent(t,e))throw"Specified tracking callback already registered.";this._trackEvents[t].push(e)},s[r]._enums={orgUnits:{ws:"ws",gnl:"gnl"},ati:{destinations:{wsSyndication:"598346",gnlSyndication:"598314",socialSyndication:"601719"},producers:{afaanoromoo:"2",afrique:"3",amharic:"4",arabic:"5",azeri:"6",bengali:"31",brasil:"33",burmese:"35",chinese:"38",gahuza:"40",gujarati:"50",hausa:"51",hindi:"52",igbo:"53",indonesian:"54",korean:"57",kyrgyz:"58",marathi:"59",mundo:"62",nepali:"63",pashto:"68",persian:"69",pidgin:"70",punjabi:"73",russian:"75",serbian:"81",sinhala:"82",somali:"83",swahili:"86",tamil:"87",telugu:"89",thai:"90",tigrinya:"91",turkish:"92",ukchina:"93",ukrainian:"94",urdu:"95",uzbek:"96",vietnamese:"97",yoruba:"107",wsenglish:"103",learningenglish:"105",japanese:"56",news:"64",englishregions:"39",newsenglishregions:"108",northernireland:"66",newsnorthernireland:"114",scotland:"79",newsscotland:"110",wales:"100",newswales:"112",other:"67"},producerAliases:{brazil:"brasil",portuguese:"brasil",portugese:"brasil,",greatlakes:"gahuza",turkce:"turkish",ukranian:"ukrainian"}}};var i=[{pattern:/^news\.(england|world\.europe\.(isle_of_man|guernsey|jersey))\./,producer:"newsenglishregions"},{pattern:/^news\.northern_ireland\./,producer:"newsnorthernireland"},{pattern:/^news\.scotland\./,producer:"newsscotland"},{pattern:/^news\.wales\./,producer:"newswales"},{pattern:/^news\./,producer:"news"},{pattern:/^naidheachdan\./,producer:"scotland"},{pattern:/^newyddion\./,producer:"wales"}];function o(t){return t=a(t),0<=Object.keys(s[r]._enums.ati.producers).indexOf(t)||0<=Object.keys(s[r]._enums.ati.producerAliases).indexOf(t)}function a(t){return t.toLowerCase().trim()}s[r]._getPageCounter=function(){var t=this._data.find("story");return t&&t.getPageCounter()?t.getPageCounter():document.location.pathname.substr(1,document.location.pathname.length-1).replace(/\//g,".")+".page"},s[r].setProducer=function(t){o(t)&&this._data.push(["producer",function e(t){return t=a(t),s[r]._enums.ati.producerAliases[t]}(t)||a(t)])},s[r]._getProducer=function(){if(this._data.find("story")&&this._data.find("story").pageCounter)for(var t=0;t<i.length;t++)if(i[t].pattern.test(this._data.find("story").pageCounter))return i[t].producer;return this._data.find("producer")},s[r].setLanguage=function(t){o(t)?this.setProducer(t):this._data.push(["language",t]),this._data.push(["languageRaw",t])},s[r]._sendAtiBeacon=function(t){var n=new Date,i="https://a1.api.bbc.co.uk/hit.xiti?";t=t||[];"fia"==this._data.find("platform")?t.push("s="+this._enums.ati.destinations.socialSyndication):"gnl"==this._data.find("orgUnit")||"japanese"==this._data.find("producer")?t.push("s="+this._enums.ati.destinations.gnlSyndication):t.push("s="+this._enums.ati.destinations.wsSyndication),this._getProducer()&&o(this._getProducer())&&t.push("s2="+this._enums.ati.producers[this._getProducer()]),t.push("lng="+s.navigator.language||s.navigator.userLanguage),t.push("hl="+n.getHours()+"x"+n.getMinutes()+"x"+n.getSeconds()),t.push("ts="+n.getTime()),t.push("p="+this._getPageCounter());try{t.push("r="+s.screen.width+"x"+s.screen.height+"x"+s.screen.pixelDepth+"x"+s.screen.colorDepth)}catch(e){}try{var a="";s.innerWidth?a=s.innerWidth+"x"+s.innerHeight:document.body&&document.body.offsetWidth&&(a=document.body.offsetWidth+"x"+document.body.offsetHeight),t.push("re="+a)}catch(e){}t.push("ref="+document.referrer),i+=t.join("&"),document.images?(s[r]._atiBeacon=s[r]._atiBeacon||new Image,s[r]._atiBeacon.src=i):document.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}}s[r]._data||(s[r]._data=s[r+"_d"]||[],s[r]._data.find=function(t){for(var e=[],n=0;n<this.length;n++)this[n][0]==t&&e.push(this[n]);if(0<e.length)return e[e.length-1][1]})}(window),function(a){var t=a._ns_bbcws=a._ns_bbcws||"s_bbcws";function e(t){this.origin="cps",this.guid=t.guid,this.assetType=t.assetType,this.published=t.published,this.updated=t.updated,this.category=t.category,this.ldpThings=t.ldpThings||[],this.campaigns=t.campaigns||[],this.pageCounter=t.pageCounter}function s(){return a.ia_document?a.ia_document.referrer:document.referrer}function r(){return"fia"==a[t]._data.find("platform")||a.ia_document?"fia":a[t]._data.find("platform")?a[t]._data.find("platform"):void 0}a[t].setStory=function(t){switch(t.origin){default:case"cps":this._data.push(["story",new e(t)])}},e.prototype.getAtiContentId=function(){if(this.guid)return"urn:bbc:cps:"+this.guid},e.prototype.getAtiContentType=function(){switch(this.assetType){case"STY":return"article";case"MAP":return"article-media-asset"}},e.prototype.getAtiPublishedDate=function(){if(this.published)return new Date(this.published).toISOString().replace(/\.[0-9]{3}/,"")},e.prototype.getAtiUpdatedDate=function(){if(this.updated)return new Date(this.updated).toISOString().replace(/\.[0-9]{3}/,"")},e.prototype.getAtiCategory=function(){if(this.category)return this.category},e.prototype.getAtiLdpThings=function(){if(this.ldpThings&&0<this.ldpThings.length){var t=[];for(var e in this.ldpThings)t.push(this.ldpThings[e].name);return t.join("~")}},e.prototype.getAtiLdpThingsIds=function(){if(this.ldpThings&&0<this.ldpThings.length){var t=[];for(var e in this.ldpThings)t.push(this.ldpThings[e].id);return t.join("~")}},e.prototype.getAtiCampaigns=function(){if(this.campaigns&&0<this.campaigns.length){var t=[];for(var e in this.campaigns)t.push(this.campaigns[e].name);return t.join("~")}},e.prototype.getPageCounter=function(){if(this.pageCounter)return this.pageCounter},a[t]._registerTrackEvent("pageView",function o(){var t=[],e=a.encodeURIComponent;t.push("x5=["+e(document.URL)+"]"),t.push("x8=["+e(this._getVersion())+"]"),t.push("x9=["+e(function i(){return a.ia_document?a.ia_document.title:document.title}())+"]"),s()&&t.push("x6=["+e(s())+"]"),this._data.find("language")&&t.push("x4=["+e(this._data.find("language"))+"]"),this._data.find("partner")&&t.push("x19=["+e(this._data.find("partner"))+"]"),this._data.find("partnerCompany")&&t.push("x20=["+e(this._data.find("partnerCompany"))+"]"),r()&&t.push("x2=["+r()+"]");var n=this._data.find("story");n&&(n.getAtiContentId()&&t.push("x1=["+e(n.getAtiContentId())+"]"),n.getAtiContentType()&&t.push("x7=["+e(n.getAtiContentType())+"]"),n.getAtiPublishedDate()&&t.push("x11=["+e(n.getAtiPublishedDate())+"]"),n.getAtiUpdatedDate()&&t.push("x12=["+e(n.getAtiUpdatedDate())+"]"),n.getAtiCategory()&&t.push("x17=["+e(n.getAtiCategory())+"]"),n.getAtiLdpThings()&&t.push("x13=["+e(n.getAtiLdpThings())+"]"),n.getAtiLdpThingsIds()&&t.push("x14=["+e(n.getAtiLdpThingsIds())+"]"),n.getAtiCampaigns()&&t.push("x16=["+e(n.getAtiCampaigns())+"]")),this._sendAtiBeacon(t)})}(window),function(t){for(var e=t._ns_bbcws=t._ns_bbcws||"s_bbcws",n=t[e+"_d"]||t[e]._data,i=n.length,a=0;a<i;a++){var s=n[a][0];("track"==s&&t[e]._hasTrackEvent(n[a][1])||"track"!=s&&t[e]._getFunction(s))&&(t[e].apply(t[e],n[a]),n.splice(a--,1),i--)}t[e+"_d"]=undefined}(window);